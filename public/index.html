<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Example of Twitter Typeahead</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script  type="text/javascript" src="typeahead.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('#SubmitBtn').click(function (event) {
    console.log("after submit button click");
    console.log($("input[name='area']").val());

    $.get('/search1', {key : $("input[name='area']").val()}, function (data) {
        console.log(data);
        console.log(data.length);
        var data1 = JSON.parse(data);
        $('#test').empty();
        $("#test").append("<tr><th>Accomodation Type</th><th>"+"Rent"+"</th></tr>");
    //    $("#test").append("<th>Rent</th></tr>");
        for (var i=0; i<data1.length; i++) {
          $("#test").append("<tr><td>Common Room</td><td>" + data1[i].COMMON_ROOM + "</td></tr>");
          $("#test").append("<tr><td>Master Room </td><td>" + data1[i].MASTER_ROOM + "</td></tr>");
          $("#test").append("<tr><td>2 Room HBD</td><td>" + data1[i].HDB_2_ROOM + "</td></tr>");
        }
    });
  });
});
  //    });
  //  $.ajax({
  //  url: 'http://healthcarenode.mybluemix.net/search1',
//    data: { key : $("input[name='score']").val() },
//  //  dataType: "json",
//
  //  success: function(data) {
  //    console.log(data);
  //    console.log(data.length);
  //    var data1 = JSON.parse(data);
  //    for (var i=0; i<data1.length; i++) {
  ////      $("#test").append("<tr><td>Number " + i + " is:</td>");
  //      $('#test').empty();
  //      $("#test").append("<tr><td>" + data1[i] + "</td></tr>");
  //    }
  //  //    $("#test").append(data);
  //  },
  //  error: function(jqXHR, textStatus, errorThrown) {
  //      alert('Error connecting to the Node.js server... ' + textStatus + " " + errorThrown);
//    }
//  });
//});
//    $('input.typeahead').typeahead({
//        name: 'countries',
//        remote: 'http://healthcarenode.mybluemix.net/search1?key=%QUERY',
//        limit: 10
//    });
//});
</script>
<style type="text/css">
table, th, td {
    border: 1px solid black;
}
.bs-example{
	font-family: sans-serif;
	position: relative;
	margin: 50px;
}
.typeahead, .tt-query, .tt-hint {
	border: 2px solid #CCCCCC;
	border-radius: 8px;
	font-size: 24px;
	height: 30px;
	line-height: 30px;
	outline: medium none;
	padding: 8px 12px;
	width: 396px;
}
.typeahead {
	background-color: #FFFFFF;
}
.typeahead:focus {
	border: 2px solid #0097CF;
}
.tt-query {
	box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset;
}
.tt-hint {
	color: #999999;
}
.tt-dropdown-menu {
	background-color: #FFFFFF;
	border: 1px solid rgba(0, 0, 0, 0.2);
	border-radius: 8px;
	box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
	margin-top: 12px;
	padding: 8px 0;
	width: 422px;
}
.tt-suggestion {
	font-size: 24px;
	line-height: 24px;
	padding: 3px 20px;
}
.tt-suggestion.tt-is-under-cursor {
	background-color: #0097CF;
	color: #FFFFFF;
}
.tt-suggestion p {
	margin: 0;
}
</style>
</head>
<body>
   <div class="page-header">
        <h1>Find a Place in <small> Singapore</small></h1>
    </div>


    <h3>Enter the search term</h3>
    <input type="text" name="area">
  <!--  <input type="text" name="a"> -->

    <br>
    <button id="SubmitBtn" type="submit">Submit</button>
    <table>
        <div id="test"></div>
    </table>

  <!--  <div class="bs-example">
        <input type="text" name="typeahead" class="typeahead tt-query" autocomplete="off" spellcheck="false" placeholder="Type your Query">
    </div> -->
</body>
</html>
